/* ==========================================================================
   WAGTAIL USER BAR
   ========================================================================== */
#wagtail-userbar {
   display: none;
}



/* ==========================================================================
   SMALL-SCREEN TITLE BAR / MENU ICON
   ========================================================================== */
.title-bar {
   background-color: $button-highlight;
   background-image: linear-gradient($button-highlight, $button-shadow);
   box-shadow: 0 2px 4px rgba(0,0,0,0.2);
   text-align: right;
   
   a {
      box-shadow: none;

      .title-bar-title {
         color: $dark-grey;
      }
      .menu-icon {
         @include hamburger($dark-grey, $red, 10px, 10px, 2px, 3);
      }  
      &:hover .title-bar-title {
         color: $red;
      }
   }
}



/* ==========================================================================
   TOP BAR / MAIN MENU
   ========================================================================== */
.top-bar {
   
   background-color: $button-highlight;
   background-image: linear-gradient($button-highlight, $button-shadow);
   box-shadow: 0 2px 4px rgba(0,0,0,0.2);
   padding: $grid-column-gutter/8;
   z-index: 2;
   
   .menu {
      background: none;

      > li {
         padding: $grid-column-gutter/8;
         > a {
            font-size: rem-calc(14);
            @include embossed-text($button-highlight);
            border-radius: rem-calc(3);
            box-shadow: none;
            transition:
               background 0.2s,
               box-shadow 0.2s
            ;

            &:hover {
               background-color: $button-shadow;
               box-shadow: inset 0 rem-calc(2) rem-calc(4) 0 rgba(0,0,0,0.05);
            }
            &:active {
               box-shadow: inset 0 rem-calc(4) rem-calc(8) 0 rgba(0,0,0,0.2);
            }
         }
         

         /* Customize arrows
            ========================================================================== */
         &.is-dropdown-submenu-parent.is-down-arrow,
         &.is-dropdown-submenu-parent.is-right-arrow {
            
            > a {
               padding-right: 1rem;
               &::after {
                  @include embossed-text($button-highlight);
                  border: none;
                  content: '▾';
                  display: inline;
                  position: static;
                  line-height: 0.5;
                  width: auto;
                  height: auto;
               }
            } 
         }

         &.is-drilldown-submenu-parent > a::after,
         &.js-drilldown-back::before {
            @include embossed-text($button-highlight);
            border: none;
            content: '▸';
            display: inline;
            line-height: 0.5;
            width: auto;
            height: auto;
         }
         &.js-drilldown-back::before {
            transform: rotate(180deg);
         }
         

         /* Current item
            ========================================================================== */
         &.current {
            > a {
               background-color: $button-shadow;
            }
         }
         

         /* Submenu
            ========================================================================== */
         .menu.submenu {
            background-color: $button-highlight;
            background-image: linear-gradient($button-highlight, $button-shadow);

            &.is-dropdown-submenu {
               border: none;
               left: $grid-column-gutter/8;
               margin-top: $grid-column-gutter/8;
               box-shadow: 
                  inset 0px 10px 8px -10px rgba(0,0,0,0.3),
                  0 2px 4px rgba(0,0,0,0.2);
               ;
               border-radius: 0 0 rem-calc(3) rem-calc(3);
            }
      
         }
         
         
         /* Menu Text / Logo
            ========================================================================== */
         &.menu-text {
            display: none;
            @include breakpoint(medium up){
               display: table-cell;
            }
         }
         
      }
   }

}
