/* ==========================================================================
   WAGTAIL USER BAR
   ========================================================================== */
#wagtail-userbar {
  display: none;
}

/* ==========================================================================
   SMALL-SCREEN TITLE BAR / MENU ICON
   ========================================================================== */
.title-bar {
  position: fixed;
  z-index: 3;
  top: 0;
  left: 0;
  right: 0;
  background-color: $button-highlight;
  background-image: linear-gradient($button-highlight, $button-shadow);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  text-align: right;
  height: $topbar-height;

  a {
    box-shadow: none;

    .title-bar-title {
      color: $dark-grey;
    }
    .menu-icon {
      @include hamburger($dark-grey, $red, 10px, 10px, 2px, 3);
    }
    &:hover .title-bar-title {
      color: $red;
    }
  }
}

/* ==========================================================================
   TOP BAR / MAIN MENU
   ========================================================================== */
.top-bar {
  position: fixed;
  z-index: 3;
  top: $topbar-height;
  left: 0;
  right: 0;
  background-color: $button-highlight;
  background-image: linear-gradient($button-highlight, $button-shadow);
  box-shadow: inset 0px 10px 8px -10px rgba(0, 0, 0, 0.3), 0 2px 4px rgba(0, 0, 0, 0.2);
  padding: $grid-column-gutter/8;

  @include breakpoint(medium up) {
    top: 0;
    height: $topbar-height;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  }

  /* Left Menu
     ========================================================================== */
  .menu {
    background: none;

    > li {
      padding: 0 $grid-column-gutter/8;

      > a {
        font-size: rem-calc(14);
        @include embossed-text($button-highlight);
        border-radius: rem-calc(3);
        box-shadow: none;
        padding: $grid-column-gutter/3 $grid-column-gutter/4;
        transition: background 0.2s, box-shadow 0.2s;

        &:hover {
          background-color: $button-shadow;
          box-shadow: inset 0 rem-calc(2) rem-calc(4) 0 rgba(0, 0, 0, 0.05);
        }
        &:active {
          box-shadow: inset 0 rem-calc(4) rem-calc(8) 0 rgba(0, 0, 0, 0.2);
        }
      }

      /* Customize arrows
         ========================================================================== */
      &.is-dropdown-submenu-parent.is-down-arrow, &.is-dropdown-submenu-parent.is-right-arrow {
        > a {
          padding-right: 1rem;

          &::after {
            @include embossed-text($button-highlight);
            margin: rem-calc(3) 0 0 rem-calc(5);
            border: none;
            content: '▾';
            display: inline;
            position: static;
            line-height: 0.5;
            width: auto;
            height: auto;
          }
          &.special::after {
            @include embossed-text($special-button-highlight);
          }
        }
      }
      &.is-drilldown-submenu-parent {
        > a {
          &::after {
            @include embossed-text($button-highlight);
            border: none;
            content: '▸';
            display: inline;
            line-height: 0.5;
            width: auto;
            height: auto;
          }
          &.special::after {
            @include embossed-text($special-button-highlight);
          }
        }
      }
      &.js-drilldown-back::before {
        @include embossed-text($button-highlight);
        border: none;
        content: '▸';
        display: inline;
        line-height: 0.5;
        width: auto;
        height: auto;
      }
      &.js-drilldown-back::before {
        transform: rotate(180deg);
      }

      /* Current item
         ========================================================================== */
      &.current {
        > a {
          background-color: $button-shadow;
        }
      }

      /* Submenu
         ========================================================================== */
      .menu.submenu {
        background-color: $button-highlight;
        background-image: linear-gradient($button-highlight, $button-shadow);

        &.is-dropdown-submenu {
          border: none;
          left: $grid-column-gutter/8;
          top: $topbar-height;
          margin-top: -$grid-column-gutter/8;
          box-shadow: inset 0px 10px 8px -10px rgba(0, 0, 0, 0.3), 0 2px 4px rgba(0, 0, 0, 0.2);
          border-radius: 0 0 rem-calc(3) rem-calc(3);

          .dropdown-pane-contents {
            padding: $grid-column-gutter/2;
          }
        }
      }

      /* Menu Text / Logo
         ========================================================================== */
      &.menu-text {
        display: none;

        @include breakpoint(medium up) {
          display: table-cell;
        }
        a {
          padding: 0;

          &:hover {
            background-color: none;
            box-shadow: none;
          }
          img {
            height: rem-calc(36);
            width: auto;
          }
        }
      }
    }
  }

  /* Right Menu
     ========================================================================== */
  .top-bar-right .menu {
    > li {
      > a {
        font-size: rem-calc(14);
        padding-left: $grid-column-gutter/2;
        margin: 0;
        @include embossed-text($special-button-highlight);
      }
      &.js-drilldown-back {
        > a {
          @include embossed-text($button-highlight);
        }
      }
      .menu.submenu {
        &.is-dropdown-submenu {
          left: auto;
          right: $grid-column-gutter/8;
        }
      }
    }
  }
}