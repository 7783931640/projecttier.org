#protocol-intro-sections {
  background-image: url('../img/workshop-light.jpg');
  background-size: cover;
  background-attachment: fixed;
  background-color: $white;
  margin-bottom: -($large-gutter);
  box-shadow: 
      inset 0px 10px 22px -13px rgba(0,0,0,0.5);
}



/* ==========================================================================
   PROTOCOL LAYOUT PAGES
   ========================================================================== */
.protocol-layout {
  background-image: linear-gradient(90deg, $callout-bg-highlight, $callout-bg-shadow);
  box-shadow: inset 10px 0px 8px -8px rgba(0,0,0,0.2);

  .page-header {
    background: none;
    box-shadow: inset 24px 24px 12px -20px rgba(0,0,0,0.1);
  }
}


/* ==========================================================================
   OFF CANVAS MENU / PROTOCOL NAV
   ========================================================================== */
.off-canvas-wrapper {
  background-color: $pale-grey;
  background-image: linear-gradient(90deg, $light-grey, $pale-grey $offcanvas-size, $pale-grey);
}
.off-canvas-content {
  box-shadow: none;
  overflow: hidden;
}
.off-canvas {
  background: none;
}

/* PROTOCOL NAV
   ========================================================================== */
.protocol-nav {
  padding-top: $medium-gutter*2;

  // All links in the menu
  li {
    a {
      box-shadow: none;
      position: relative;
      color: $dark-teal;
      transition: 
        background 0.2s,
        color 0.2s
      ;
      &:hover {
        background: transparentize($white, 0.5);
        color: $red;
      }
      
      // caret icon
      i {
        position: absolute;
        right: rem-calc(5);
        top: rem-calc(11);
        transition: transform 0.5s;
      }
    }
    &.is-active {
      > a {
        background: transparentize($white, 0.5);
        i {
          transform: rotate(180deg);
        }
      }
    }
  }

  > .menu {

    // Top level items
    > li {
      border-bottom: 1px solid $button-shadow;
      border-top: 1px solid $button-highlight;
      &:first-child {
        border-top: none;
      }
      &:last-child {
        border-bottom: none;
      }
      
      // Just top level links
      > a {
        
      }

      // Submenu level one
      > ul {
        margin: 0;
        background: transparentize($white, 0.5);
        > li {
          > a {
            padding-left: $medium-gutter;
            font-size: rem-calc(14);
            font-weight: 900;
          }

          // Submenu level two
          > ul {
            margin: 0;
            background: transparentize($white, 0.5);
            > li {
              > a {
                padding-left: $medium-gutter + rem-calc(5);
                font-size: rem-calc(12);
              }
            }
          }
        }
      }
    }
  }
}


/* ==========================================================================
   COMPONENT NAV
   ========================================================================== */
.component-nav {
  ol {
    list-style: none;
    margin: 0;

    li {
      a {
        display: block;
        box-shadow: none;
        line-height: 2;
        font-weight: 900;
        padding-left: $small-gutter;
        margin-right: -($small-gutter);
        margin-left: -($small-gutter);
        transition:
          color 0.2s,
          background 0.2s,
          box-shadow 0.2s;

        &:hover {
          background: $pale-grey;
          box-shadow:
            inset 10px 0px 8px -8px rgba(0,0,0,0.2);
        }
      }

      &.active {
        > a {
          background: $light-teal;
          color: $black;
          box-shadow:
            inset 10px 0px 8px -8px rgba(0,0,0,0.2);
        }
      }

      > ol {
        > li {
          > a {
            padding-left: $small-gutter + $medium-gutter;
          }
          > ol {
            > li {
              > a {
                padding-left: $small-gutter + ( $medium-gutter * 2 );
              }
            }
          }
        }
      }
    }
  }
}